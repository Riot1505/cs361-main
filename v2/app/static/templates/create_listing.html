{% extends 'layouts/base.html' %}

{% block title %}Create Listing{% endblock %}

{% block content %}
<header>
    <h1>Create Listing</h1>
</header>
<main>
    <body>
        <form method="POST" enctype="multipart/form-data">
            <label for="title">Title:</label>
            <input type="text" name="title"
                placeholder="Insert listing title here" required><br><br>

            <label for="currency">Currency:</label>
            <input type="text" name="currency" required><br><br>

            <label for="price">Price:</label>
            <input type="number" step="0.01" name="price" placeholder="0.00"
                required><br><br>

            <label for="description">Description:</label>
            <textarea name="description"
                placeholder="Enter a description here (max 200 characters)"
                rows="4" cols="50"
                required></textarea><br><br>

            <label for="city">City:</label>
            <input type="text" name="city" placeholder="Insert city here"
                required><br><br>

            <label for="state">State:</label>
            <input type="text" name="state"
                placeholder="Insert state Here (e.g., CA)" required><br><br>

            <label for="zip_code">Zip Code:</label>
            <input type="text" name="zip_code" placeholder="5 digit zip code"
                pattern="\d{5}"
                title="Please enter a 5-digit zip code" required><br><br>

            <label for="photo">Upload Photo:</label>
            <input type="file" name="photo" id="photo" accept="image/*"><br><br>

            <input type="submit" value="Create Listing">
            <br>
            <br>
            <!-- Cancel button -->
            <button type="button" onclick="confirmCancel()">Cancel</button>

        </form>

        <script>
            function confirmCancel() {
                const userConfirmed = confirm("Are you sure you want to cancel? You will lose any unsaved changes.");
                if (userConfirmed) {
                    window.location.href = "/home"; // Redirect to home page
                }
            }
        </script>
        

    </body>
</main>

{% endblock %}
